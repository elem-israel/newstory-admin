(this["webpackJsonpcreate-react-app-with-typescript"]=this["webpackJsonpcreate-react-app-with-typescript"]||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(41),i=n.n(r),o=n(88),s=n(87),l=n(89),d=n(15),j=n(3),u=n(1);function b(){var e=Object(j.g)();return Object(u.jsxs)("nav",{id:"sidebar",children:[Object(u.jsx)("div",{className:"sidebar-header",children:Object(u.jsx)("h3",{children:"New Story"})}),Object(u.jsx)("ul",{className:"list-unstyled components",children:[{path:"/",label:"\u05d1\u05d9\u05ea \u05d0\u05de\u05d9\u05ea\u05d9",childrenId:"homePage",children:[{path:"/abount",label:"\u05d0\u05d5\u05d3\u05d5\u05ea"}]},{path:"/comments",label:"\u05e4\u05e8\u05d5\u05e4\u05d9\u05d9\u05dc\u05d9\u05e0\u05d2"}].map((function(t,n){return Object(u.jsx)("li",{className:e.pathname==t.path?"active":"",children:void 0!=t.childrenId?Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("a",{href:"#"+t.childrenId,"data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[" ",t.label," "]}),Object(u.jsx)("ul",{className:"collapse list-unstyled",id:t.childrenId,children:t.children.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(d.b,{to:e.path,children:e.label})},t)}))})]}):Object(u.jsx)(d.b,{to:t.path,children:t.label})},n)}))})]})}function h(){var e=Object(j.g)();return Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("button",{type:"button",id:"sidebarCollapse",className:"navbar-btn",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsx)("button",{className:"btn btn-dark d-inline-block d-lg-none",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("i",{className:"fas fa-align-justify"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(u.jsx)("ul",{className:"nav navbar-nav ml-auto",children:[{path:"/",label:"\u05d3\u05e3 \u05d0\u05d7\u05d3"},{path:"/",label:"\u05d3\u05e3 \u05e9\u05e0\u05d9"},{path:"/",label:"\u05d3\u05e3 \u05e9\u05dc\u05d9\u05e9\u05d9"}].map((function(t,n){return Object(u.jsx)("li",{className:"nav-item ".concat(e.pathname==t.path?"active":""),children:Object(u.jsx)(d.b,{to:t.path,className:"nav-link",children:t.label})},n)}))})})]})})}var f,p=n(50),v=n(7),x=n(14),O=n.n(x),m=n(17),g=n(21);!function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e[e.Success=2]="Success",e[e.Danger=3]="Danger",e[e.Warning=4]="Warning",e[e.Info=5]="Info",e[e.Dark=6]="Dark"}(f||(f={}));var y=function(e){return e==f.Primary?"primary":e==f.Secondary?"secondary":e==f.Success?"success":e==f.Danger?"danger":e==f.Warning?"warning":e==f.Info?"info":e==f.Dark?"dark":f.Primary};function k(e){return console.log(y(e.varient)),Object(u.jsxs)("div",{className:"card border-".concat(y(e.varient)," col"),style:{maxWidth:"50rem"},children:[Object(u.jsx)("div",{className:"card-header bg-transparent border-".concat(y(e.varient)),children:e.header}),Object(u.jsxs)("div",{className:"card-body text-".concat(y(e.varient)),children:[Object(u.jsx)("h5",{className:"card-title",children:e.textHeader}),Object(u.jsx)("div",{className:"card-text",children:e.children})]}),Object(u.jsx)("div",{className:"card-footer bg-transparent border-".concat(y(e.varient)),children:e.footer})]})}n(62);function w(e){var t=["#cc2900","#e62e00","#ff3300","#ff471a","#ff5c33","#ff704d","#ff8566","#ff9980","#ffad99","#ffc2b3"],n=["#000000","#1a1a1a","#333333","#4d4d4d","#666666","#808080","#999999","#a6a6a6","#b3b3b3","#bfbfbf"];return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsx)("span",{className:"row",style:{justifyContent:"center"},children:[10,9,8,7,6,5,4,3,2,1].map((function(a,c){return Object(u.jsx)("span",{className:"circle ".concat(e.pickedValue==a?"active":""),style:{backgroundColor:"dark"==e.plate?n[c]:t[c]},onClick:function(){return e.onPick(a)},children:a},c)}))})})}n(63);var N=function(e){var t;return Object(u.jsxs)("div",{className:"col",children:[(null===(t=e.options)||void 0===t?void 0:t.length)>0&&function(){var t;return Object(u.jsxs)("select",{className:"form-control",onChange:function(t){return""!=t.target.value&&e.onPick(t.target.value)},defaultValue:"",children:[Object(u.jsx)("option",{}),null===(t=e.options)||void 0===t?void 0:t.map((function(e,t){return Object(u.jsx)("option",{value:e,children:e},t)}))]})}(),Object(u.jsx)("div",{className:"row",children:function(){var t;return null===(t=e.pickedValues)||void 0===t?void 0:t.map((function(t,n){return Object(u.jsxs)("div",{className:"pickedOption",children:[Object(u.jsx)("span",{onClick:function(){return e.onDrop(t)},children:"x"}),t]},n)}))}()})]})},I=n(9);function C(e){var t=Object(I.b)(),n=t.keycloak;t.initialized;return n.authenticated?Object(u.jsx)(j.b,Object(v.a)({},e)):Object(u.jsx)(j.a,{to:"/login"})}function S(e){var t=Object(I.b)(),n=t.keycloak;t.initialized;return n.authenticated?Object(u.jsx)(j.a,{to:"/"}):Object(u.jsx)(j.b,Object(v.a)({},e))}n(64);var z=n(43),M=new(n.n(z).a)("eyJhbGciOiJSUzI1NiIsImtpZCI6ImFwaS1rZXkiLCJ0eXAiOiJKV1QifQ.eyJvcmdhbml6YXRpb25JRCI6ImMwNXYzdWEyM2FrZzAwYm8ydWZnIiwicHJvamVjdElEIjoiYzA1djRnMjIzYWtnMDBibzJ1ajAiLCJhdWQiOiJodHRwczovL2FwcC5iYWdlbGRiLmNvbSIsImp0aSI6IjhjNTA3Nzc2LWY5MTItNDkxMS04MGJhLWYxZGFjMGVkNDJlOCIsImlzcyI6Imh0dHBzOi8vYXV0aGVudGljYXRpb24uYmFnZWxkYi5jbyIsInN1YiI6ImMwNXY0ZzIyM2FrZzAwYm8ydWowIn0.XqA5iToLP59NXpQ11TEt_in-wrAmVsI7FUpgZWCRLgH6occDDLi1M3ebCXaq4gs8ENiVtEgfGp74nQZ0XDrnIE2T5op4v6PgX-rIDvg2AFR0xe70BhsNSIFdVn7i5CecCGA734Xvi1x08cbWDTO4YuGLzL49J8fFhKo2vmoQxmBRdHl5scl-KECB8WPkDH1lysoEuTMfgXT_JiM75zzH4j_PAB5kLnzRB5kYxshJFy_nok1DXXCLYcbE41WkrVi29NKMSR1ApJ1yceawdOLy7DfdSVy8Llq85ncNGwpXpVU8t_Tz3SEpZgy3pBOqodJbMCi5m4xCw1SPRirTpxFeE0n61G8hK2aOqEwb2DRFjrpgNfAoe9WG4gR8PfUN3-iZswmla8uXqFXUci1Jzgbtr6_Sv4N-5ICRHQBm0-MwXIFVMmt2Im_C2Avi2uyZb-QBElweZuHcEfjrm2DBjzbWJUvqjb0GJWbloVGc5pwrENKIbBVoiUYfB-ESRqyZLmRFnns_48fR9wI0k0UMCfDEvhvaur94RQZPJ3z2ekGDFnAE4QnMXfYpKTX49LiHRnGw-5hdJ8WeWeL7crcoKq4_oKvvq4TiVs2vQWamZUj5V3KaGCFMTXrLzLxj2jlDvWieJG7jpRACOG1qcjR4z3TNDpH0e0yj9EwAGRW5TViXOkk"),A={},D=function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=A[t]){e.next=5;break}return e.next=3,M.collection(t).get();case 3:n=e.sent,A[t]=n.data.map((function(e){return e.value}));case 5:return e.abrupt("return",A[t]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){return new Promise((function(n,a){var c={Authorization:"Bearer ".concat(e),"Access-Control-Allow-Origin":"*","content-type":"application/json"},r=1;t.id&&(r=t.id[0]>t.id[1]?t.id[1]:t.id[0]),t.username=void 0,t.createdAt=void 0,t.text=void 0,t.varient=void 0,t.id=void 0,console.log(JSON.stringify(t));var i=new URL("".concat("https://api.newstory.gq","/post/").concat(r,"/report"));fetch(i,{headers:c,body:JSON.stringify(t),method:"POST",mode:"no-cors"}).then((function(e){return 200!=e.status&&(e.text().then((function(e){return console.log(e)})),a(e)),e.text()})).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))},E=function(e){return new Promise((function(t,n){var a={Authorization:"Bearer ".concat(e),"Access-Control-Allow-Origin":"*"},c=new URL("".concat("https://api.newstory.gq","/post/random")),r={n:1};Object.keys(r).forEach((function(e){return c.searchParams.append(e,r[e])})),fetch(c,{headers:a,method:"GET",mode:"no-cors"}).then((function(e){return 200!=e.status&&(e.text().then((function(e){return console.log(e)})),n(e)),e.json()})).then((function(e){return t(e[0])})).catch((function(e){n(e)}))}))};function R(){var e=Object(I.b)(),t=e.keycloak,n=(e.initialized,!1),r=Object(a.useState)(),i=Object(g.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(!1),d=Object(g.a)(l,2),j=d[0],b=d[1],h=Object(a.useState)([]),f=Object(g.a)(h,2),x=f[0],y=f[1],C=Object(a.useState)([]),S=Object(g.a)(C,2),z=S[0],M=S[1];Object(a.useEffect)((function(){n||(R(),A(),n=!0)}),[s]);var A=function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("reasons");case 2:t=e.sent,M(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(O.a.mark((function e(){var n,a,c,r,i,o,l,d,j,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t.token);case 3:return n=e.sent,a=new Date(n.created_date[0]),c=a.getFullYear(),r=a.getMonth(),i=a.getDate(),o=Math.floor(Math.random()*Math.floor(24)),l=Math.floor(Math.random()*Math.floor(60)),d=Math.floor(7*Math.random()),e.next=13,t.loadUserInfo();case 13:j=e.sent,u={username:n.username,text:n.caption,varient:d,createdAt:"".concat(i,"/").concat(r,"/").concat(c,"  ").concat(o,":").concat(l<10?"0"+l:l),id:n.id,score:void 0,review:"",author:j.preferred_username,authorId:j.sub},y([]),s(u),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"form ".concat(j?"hide":""," d-flex justify-content-center"),children:o&&Object(u.jsx)(k,{varient:null===o||void 0===o?void 0:o.varient,type:"Comment",header:Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(u.jsx)("span",{children:"\u05ea\u05d2\u05d5\u05d1\u05d4"}),Object(u.jsx)("span",{children:null===o||void 0===o?void 0:o.createdAt})]}),textHeader:o.username,footer:Object(u.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"flex-end"},children:Object(u.jsx)("button",{className:"btn btn-primary",onClick:Object(m.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t.token,o);case 2:return n=e.sent,console.info("confirm token - "+n),b(!0),e.next=7,R();case 7:b(!1);case 8:case"end":return e.stop()}}),e)}))),children:"\u05e9\u05dc\u05d7"})}),children:Object(u.jsxs)(c.a.Fragment,{children:[o.text,Object(u.jsx)("hr",{}),Object(u.jsx)("label",{htmlFor:"freetext",children:"\u05e6\u05d9\u05d8\u05d5\u05d8\u05d9\u05dd \u05d5\u05e6\u05d9\u05e8\u05d5\u05e4\u05d9 \u05de\u05d9\u05dc\u05d9\u05dd"}),Object(u.jsx)("textarea",{id:"freetext",name:"freetext",className:"form-control",value:o.notes,onChange:function(e){var t=e.currentTarget.value,n=Object(v.a)(Object(v.a)({},o),{},{notes:t});s(n)},style:{fontSize:"12px"}}),Object(u.jsx)("hr",{}),Object(u.jsx)("label",{children:"\u05e1\u05d9\u05d1\u05ea \u05d3\u05d9\u05e8\u05d5\u05d2 \u05d0\u05e0\u05dc\u05d9\u05e1\u05d8"}),Object(u.jsx)(N,{options:z.filter((function(e){return!x.includes(e)})),pickedValues:x,onDrop:function(e){return y(x.filter((function(t){return t!=e})))},onPick:function(e){return y([].concat(Object(p.a)(x),[e]))}}),Object(u.jsx)("hr",{}),Object(u.jsx)("label",{htmlFor:"review",children:"\u05d4\u05e2\u05e8\u05d5\u05ea \u05d0\u05e0\u05dc\u05d9\u05e1\u05d8"}),Object(u.jsx)("textarea",{id:"review",name:"review",className:"form-control",value:o.review,onChange:function(e){var t=e.currentTarget.value,n=Object(v.a)(Object(v.a)({},o),{},{review:t});s(n)},style:{fontSize:"12px"}}),Object(u.jsx)("hr",{}),Object(u.jsx)("label",{children:"\u05e1\u05d9\u05db\u05d5\u05df \u05dc\u05e4\u05d2\u05d9\u05e2\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea"}),Object(u.jsx)(w,{onPick:function(e){var t=Object(v.a)(Object(v.a)({},o),{},{score:e});s(t)},pickedValue:o.score}),Object(u.jsx)("hr",{}),Object(u.jsx)("label",{children:"\u05e1\u05d9\u05db\u05d5\u05df \u05dc\u05e4\u05d2\u05d9\u05e2\u05d4 \u05de\u05d9\u05e0\u05d9\u05ea"}),Object(u.jsx)(w,{plate:"dark",onPick:function(e){var t=Object(v.a)(Object(v.a)({},o),{},{sexual_hurt:e});s(t)},pickedValue:o.sexual_hurt})]})})})}var W=function(){Object(j.g)().state;var e=Object(I.b)().keycloak,t=Object(a.useCallback)((function(){null===e||void 0===e||e.login()}),[e]);return(null===e||void 0===e?void 0:e.authenticated)&&console.log("authenticated!"),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"button",onClick:t,children:"Login"})})};function F(){return Object(u.jsx)("h2",{children:"Home"})}function L(){var e=Object(I.b)();e.keycloak;return e.initialized?Object(u.jsx)(d.a,{children:Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(b,{}),Object(u.jsxs)("div",{id:"content",children:[Object(u.jsx)(h,{}),Object(u.jsx)(l.a,{children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{path:"/home",exact:!0,component:F}),Object(u.jsx)(C,{path:"/comments",exact:!0,component:R}),Object(u.jsx)(S,{path:"/login",component:W})]})})]})]})}):Object(u.jsx)("div",{children:"Loading..."})}var X=n(47),V=n.n(X),G=n(49),T=Object(G.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:V.a.A400},background:{default:"#fff"}}}),P=n(48),Y=new(n.n(P).a);i.a.render(Object(u.jsx)(I.a,{authClient:Y,onEvent:function(e,t){console.log("onKeycloakEvent",e,t)},onTokens:function(e){console.log("onKeycloakTokens",e)},children:Object(u.jsxs)(s.a,{theme:T,children:[Object(u.jsx)(o.a,{}),Object(u.jsx)(L,{})]})}),document.querySelector("#root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.3b318dc0.chunk.js.map